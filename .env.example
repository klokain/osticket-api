# OSTicket API - Environment Configuration Template
# Copy this file to .env and update with your actual values

# ================================================
# Database Configuration
# ================================================
# MySQL database connection settings (same as your OSTicket installation)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=osticket
DB_USER=osticket
DB_PASSWORD=your_password_here

# OSTicket table prefix (usually 'ost_')
DB_PREFIX=ost_

# ================================================
# OSTicket Installation
# ================================================
# Path to OSTicket installation (for reference)
OSTICKET_PATH=./osTicket

# ================================================
# FastAPI Server Configuration  
# ================================================
# Server host and port
API_HOST=0.0.0.0
API_PORT=8000

# Enable debug mode (set to false in production)
API_DEBUG=true

# API URL prefix
API_V2_PREFIX=/api/v2

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://localhost:8000"]

# ================================================
# Security Settings
# ================================================
# Secret key for JWT tokens (CHANGE THIS IN PRODUCTION!)
SECRET_KEY=your-super-secret-key-change-this-in-production

# JWT token expiration (in minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# JWT refresh token expiration (in days) 
REFRESH_TOKEN_EXPIRE_DAYS=7

# ================================================
# Authentication
# ================================================
# Enable API key compatibility with OSTicket
LEGACY_API_KEY_SUPPORT=true

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60

# ================================================
# Caching & Performance
# ================================================
# Redis connection (optional - for caching and sessions)
REDIS_URL=redis://localhost:6379/0
REDIS_ENABLED=false

# Database connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_TIMEOUT=30

# ================================================
# Logging
# ================================================
# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Log file path (leave empty to disable file logging)
LOG_FILE=

# ================================================
# Email Configuration (for notifications)
# ================================================
# SMTP settings (optional - for API-generated notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
EMAIL_FROM=api@yourdomain.com

# ================================================
# File Upload Settings
# ================================================
# Maximum file upload size (in bytes)
MAX_UPLOAD_SIZE=10485760  # 10MB

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,png,jpg,jpeg,gif

# Upload directory (relative to project root)
UPLOAD_DIR=uploads

# ================================================
# External Services
# ================================================
# Webhook URL for external integrations
WEBHOOK_URL=

# External API endpoints
EXTERNAL_API_BASE_URL=

# ================================================
# Development Settings
# ================================================
# Enable SQL query logging (development only)
SQL_DEBUG=false

# Enable API request/response logging
API_REQUEST_LOGGING=true

# Mock external services in development
MOCK_EXTERNAL_SERVICES=true

# ================================================
# Production Settings
# ================================================
# Set to 'production' when deploying
ENVIRONMENT=development

# Sentry DSN for error tracking (production)
SENTRY_DSN=

# Application metrics
METRICS_ENABLED=false
METRICS_PORT=9090

# Health check endpoint
HEALTH_CHECK_ENABLED=true